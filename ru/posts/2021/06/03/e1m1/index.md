# –ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∫–æ—Ä–æ–±–æ—á–∫–∞ –∏–∑ Arduino

***
![](/2021/06/03/e1m1/img/cover.png)

> –î–∞–π —á–µ–ª–æ–≤–µ–∫—É —Ä—ã–±—É, –∏ –æ–Ω –±—É–¥–µ—Ç —Å—ã—Ç –æ–¥–∏–Ω –¥–µ–Ω—å.
>
> –î–∞–π –µ–º—É PC-—Å–ø–∏–∫–µ—Ä, –∏ –æ–Ω –ø–æ–¥–∫–ª—é—á–∏—Ç –µ–≥–æ –∫ Arduino.
***

[üëâ **–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –æ—Ö—É–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å—É—Ç–∏**](#doom-cool)

–ö–∞–∂–¥—ã–π –º—É–∂—á–∏–Ω–∞ –≤ —Å–≤–æ–µ–π –∂–∏–∑–Ω–∏ –¥–æ–ª–∂–µ–Ω —Å–¥–µ–ª–∞—Ç—å —Ç—Ä–∏ –≤–µ—â–∏:

1. –ö—É–ø–∏—Ç—å Arduino.
1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ –Ω–µ–π –∫–Ω–æ–ø–æ—á–∫–∏.
1. –ü—Ä–∏–¥–µ–ª–∞—Ç—å –∫ –Ω–µ–π PC-—Å–ø–∏–∫–µ—Ä.

–ü–µ—Ä–≤—ã–º–∏ –¥–≤—É–º—è –≤–µ—â–∞–º–∏ —è –∑–∞–Ω–∏–º–∞—é—Å—å —É–∂–µ –¥–∞–≤–Ω–æ, —Å–æ–±–∏—Ä–∞–ª –Ω–∞ –±–∞–∑–µ Arduino Leonardo –≤—Å—è–∫—É—é [–¥–∏—á—å](/2018/07/01/arduinopad) –∏ —Ä–∞–∑–Ω—É—é [—Ö—Ç–æ–Ω—å](/2018/10/24/yagodka).
–î–æ–±—Ä–∞–ª—Å—è –Ω–∞–∫–æ–Ω–µ—Ü –∏ –¥–æ –ø–∏–ª–∏–∫–∞–Ω—å—è –ø–∏–ª–∏–∫–∞–ª–∫–æ–π.

–í —Ü–µ–ª–æ–º –ø–∏–ª–∏–∫–∞—Ç—å –Ω–∞ Arduino –Ω–µ—Å–ª–æ–∂–Ω–æ: —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ [`tone()`](https://www.arduino.cc/reference/en/language/functions/advanced-io/tone/) –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–≤–∞–¥–∞—Ä—Ç–Ω–æ–π –≤–æ–ª–Ω—ã –∑–∞–¥–∞–Ω–Ω–æ–π —á–∞—Å—Ç–æ—Ç—ã –Ω–∞ –∑–∞–¥–∞–Ω–Ω–æ–º –ø–∏–Ω–µ,
–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥—É—é—â–∏–º –≤—ã–∑–æ–≤–æ–º [`delay()`](https://www.arduino.cc/reference/en/language/functions/time/delay/), –∞ –≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è –∑–≤—É–∫ —Ñ—É–Ω–∫—Ü–∏–µ–π [`noTone()`](https://www.arduino.cc/reference/en/language/functions/advanced-io/notone/).
–ü–æ–ª–∏—Ñ–æ–Ω–∏–∏ –Ω–µ—Ç ‚Äî –∑–∞ —Ä–∞–∑ –º–æ–∂–µ—Ç –∑–≤—É—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –Ω–æ—Ç–∞, –ø–æ—ç—Ç–æ–º—É —Ü–∏–∫–ª `tone`, `delay`,`noTone` –Ω—É–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ—Ç—ã –≤ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∑–∞–¥–∞—á–∞ —Å–≤–æ–¥–∏—Ç—Å—è –∫ —Ç–æ–º—É, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—É—é –º–æ–Ω–æ—Ñ–æ–Ω–∏—á–µ—Å–∫—É—é –º–µ–ª–æ–¥–∏—é, –ø–æ—Å—á–∏—Ç–∞—Ç—å —á–∞—Å—Ç–æ—Ç—ã –Ω–æ—Ç –≤ –Ω–µ–π, –∏—Ö –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –∑–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –Ω–∞ Arduino.

## –ü–æ–Ω–∞–ø—Ä–∏–¥—É–º—ã–≤–∞—é—Ç —Å–µ–±–µ –∑–∞–¥–∞—á –¥—É—Ä–∞—Ü–∫–∏—Ö...

–ß—Ç–æ –±—É–¥–µ–º –∏–≥—Ä–∞—Ç—å? –ù–µ –≥–æ–Ω—è—Ç—å –∂–µ –≥–∞–º–º—ã. –ù—É–∂–Ω–æ —á—Ç–æ-—Ç–æ —Å–≤–µ—Ç–ª–æ–µ, –¥–æ–±—Ä–æ–µ, –≤–µ—á–Ω–æ–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, E1M1 –∏–∑ DOOM.

<iframe width="100%"
        height="415"
        src="https://www.youtube-nocookie.com/embed/BSsfjHCFosw"
        title="E1M1 (–≤–∏–¥–µ–æ)"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
></iframe>

–í —Å–µ—Ç–∏ –µ–µ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –≤–∏–¥–µ –ø–∞—Ä—Ç–∏—Ç—É—Ä—ã –¥–ª—è Guitar Pro.
–í –Ω–µ–º —É–¥–æ–±–Ω–æ –±—É–¥–µ—Ç —É–¥–∞–ª–∏—Ç—å –∏–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –ª–∏—à–Ω–∏–µ –¥–æ—Ä–æ–∂–∫–∏, –æ—Å—Ç–∞–≤–∏–≤ –æ–¥–Ω—É –≥–∏—Ç–∞—Ä—É, –≤—ã–ø–∏–ª–∏—Ç—å –≤—Å–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –º–æ–Ω–æ—Ñ–æ–Ω–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–∫.

![E1M1 tab](./img/01.png)

–°–ª–µ–¥—É—é—â–∏–π –º–æ–º–µ–Ω—Ç ‚Äî –ø–æ–¥–æ–±—Ä–∞—Ç—å —á–∞—Å—Ç–æ—Ç—ã –Ω–æ—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –≤–∏–¥–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –≤ –∫–æ–¥–µ.
–ú–æ–∂–Ω–æ —á–∞—Å—Ç–æ—Ç—ã —ç—Ç–∏ –ø–æ—Å—á–∏—Ç–∞—Ç—å, –µ—Å–ª–∏ –≤—ã —Ö–æ–¥–∏–ª–∏ –≤ –º—É–∑—ã–∫–∞–ª–∫—É, –∞ –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –Ω–∞–≥—É–≥–ª–∏—Ç—å –≤—Å–µ —ç—Ç–∏ –æ–∫—Ç–∞–≤—ã, –¥–∏–µ–∑—ã –∏ –±–µ–º–æ–ª–∏.

–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–æ—Ç –æ–±–æ–∑–Ω–∞—á–∏–º –ø–æ –¥–æ–ª—è–º —Ü–µ–ª–æ–π –Ω–æ—Ç—ã.
–¶–µ–ª–∞—è –Ω–æ—Ç–∞ ‚Äî 1, –ø–æ–ª–æ–≤–∏–Ω–Ω–∞—è ‚Äî 2, —á–µ—Ç–≤–µ—Ä—Ç–Ω–∞—è ‚Äî 4 –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.

15 –º–∏–Ω—É—Ç —Ç—Ä—É–¥–æ–≤ –∏ [–ø—Ä–æ—à–∏–≤–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç –∏–∑ Arduino –ø–∏–ª–∏–∫–∞–ª–∫—É](https://github.com/torunar/arwave), –≥–æ—Ç–æ–≤–∞!
–°–∞–º–∞ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫–∞–∫ [–∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª](https://github.com/torunar/arwave/blob/master/examples/c-major/melody.h) —Å –Ω–æ—Ç–∞–º–∏ –∏ –∏—Ö –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º–∏.

–ö—Ä—É—Ç–æ.
–ö—Ä—É—Ç–æ-–∫—Ä—É—Ç–æ-–∫—Ä—É—Ç–æ.
–ù–æ —á–µ–≥–æ-—Ç–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç.

–ù—É –¥–∞, –∫–∞–∫ –∏–∑ MIDI-—Ñ–∞–π–ª–∞ –ø—Ä–æ—à–∏–≤–∫—É-—Ç–æ –¥–µ–ª–∞—Ç—å?

## ... –∏ –ø–∏—à—É—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞ –ü–µ—Ç–æ–Ω–µ!

–ê –Ω–µ –Ω–∞–ø–∏—Å–∞—Ç—å –ª–∏ –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–∞ –≤—Ö–æ–¥ MIDI, –∞ –Ω–∞ –≤—ã—Ö–æ–¥–µ –¥–∞–≤–∞—Ç—å –∂–µ–ª–∞–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª?
–¢–µ–º –±–æ–ª–µ–µ, —á—Ç–æ –≤ Python –µ—Å—Ç—å –æ—Ç–ª–∏—á–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å MIDI ‚Äî [`mido`](https://mido.readthedocs.io/en/latest/).

–° –Ω–µ–π –ø—Ä–æ–±–ª–µ–º –Ω–µ—Ç, –ø—Ä–æ–±–ª–µ–º—ã –µ—Å—Ç—å —Å MIDI –∫–∞–∫ —Ç–∞–∫–æ–≤—ã–º.
–ö–æ–≥–¥–∞-—Ç–æ –º–Ω–µ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–ª–∏, —á—Ç–æ MIDI ¬´–ø—Ä—è–º–æ –≤ —Å–µ–±–µ –Ω–æ—Ç—ã —Ö—Ä–∞–Ω–∏—Ç¬ª –∏ –ø–æ—ç—Ç–æ–º—É —Ç–∞–∫–æ–π —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏–º—ã–π, –ø–æ—ç—Ç–æ–º—É —è –æ–∂–∏–¥–∞–ª, —á—Ç–æ —Å–¥–µ–ª–∞—Ç—å –ø–∞—Ä—Ç–∏—Ç—É—Ä—É –∏–∑ MIDI-—Ñ–∞–π–ª–∞ –±—É–¥–µ—Ç –∫—Ä–∞–π–Ω–µ –ø—Ä–æ—Å—Ç–æ.
Boy, was I wrong.

MIDI, –∫–∞–∫ –≤—ã—è—Å–Ω–∏–ª–æ—Å—å, —Ö—Ä–∞–Ω–∏—Ç –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –≤ –≤–∏–¥–µ —Å–æ–æ–±—â–µ–Ω–∏–π.
–ë—É–∫–≤–∞–ª—å–Ω–æ –≤—Å–µ, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ç—Ä–µ–∫–µ (–Ω–∞—á–∞—Ç—å –∏–∑–¥–∞–≤–∞—Ç—å –∑–≤—É–∫, –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –∏–≥—Ä–∞—Ç—å, –¥–æ–±–∞–≤–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç—ã —Ç–∏–ø–∞ –≤–∏–±—Ä–∞—Ç–æ, –ø–æ–º–µ–Ω—è—Ç—å –≥—Ä–æ–º–∫–æ—Å—Ç—å, –∑–∞–¥–∞—Ç—å —Ç–µ–º–ø) ‚Äî —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏—è.
–£ —Å–æ–æ–±—â–µ–Ω–∏–π –µ—Å—Ç—å —Ç–∏–ø, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –¥—Ä—É–≥–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Å–ª—É–∂–µ–±–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

–ü–æ—Å–∫–æ–ª—å–∫—É –Ω—É–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–¥–Ω–æ–¥–æ—Ä–æ–∂–µ—á–Ω—ã–º–∏ MIDI-—Ñ–∞–π–ª–∞–º–∏ –±–µ–∑ –ø–æ–ª–∏—Ñ–æ–Ω–∏–∏, –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç —Ç–æ–ª—å–∫–æ —Å–æ–±—ã—Ç–∏—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –≤–∫–ª—é—á–µ–Ω–∏–µ–º –∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ–º –∑–≤—É–∫–∞ –∏ –∑–∞–¥–∞–Ω–∏–µ–º —Ç–µ–º–ø–∞ (BPM) –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏.
[–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä](https://github.com/torunar/arwave-converter) –≤ –∏—Ç–æ–≥–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –Ω–µ —Å–∏–ª—å–Ω–æ —Å—Ç—Ä–∞—à–Ω—ã–π.

–í—ã—Å–æ—Ç–∞ –∑–≤—É–∫–∞ –∑–∞–¥–∞–µ—Ç—Å—è –Ω–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ–º –Ω–æ—Ç—ã –∏ –æ–∫—Ç–∞–≤—ã, –∞ –≤ –≤–∏–¥–µ —Ü–µ–ª–æ–≥–æ —á–∏—Å–ª–∞.
[–û–∫—Ç–∞–≤—É –æ–ø—Ä–µ–¥–µ–ª—è–µ–º](https://github.com/torunar/arwave-converter/blob/master/__main__.py#L3-L7) –∫–∞–∫ —Ü–µ–ª—É—é —á–∞—Å—Ç—å –æ—Ç –¥–µ–ª–µ–Ω–∏—è –Ω–∞ 12, –∞ –Ω–æ—Ç—É ‚Äî –∫–∞–∫ –æ—Å—Ç–∞—Ç–æ–∫.

–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–≤—É–∫–∞ (–∏ —Ç—É—Ç –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è –≥–µ–Ω–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤, —á—Ç–æ –ø—Ä–∏–¥—É–º–∞–ª–∏ MIDI), –∑–∞–¥–∞–µ—Ç—Å—è –Ω–µ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö, –∞ –≤ —Ç–∏–∫–∞—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –æ—Å—Ü–∏–ª—è—Ç–æ—Ä–∞.
–ó–Ω–∞—è, —Å–∫–æ–ª—å–∫–æ —Ç–∏–∫–æ–≤ –Ω–∞ —É–¥–∞—Ä (ticks per beat) –∑–∞–¥–∞–Ω–æ –≤ —Å–≤–æ–π—Å—Ç–≤–∞—Ö —Ñ–∞–π–ª–∞, [–º–æ–∂–Ω–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å](https://github.com/torunar/arwave-converter/blob/master/__main__.py#L9-L11), –∫–∞–∫—É—é –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–µ—Ç –Ω–æ—Ç–∞ –≤ –ø—Ä–∏–Ω—è—Ç–æ–π –Ω–∞–º–∏ –Ω–æ—Ç–∞—Ü–∏–∏.
–í –ø–æ–ø—ã—Ç–∫–∞—Ö –Ω–∞–π—Ç–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ, –∑–∞—á–µ–º —Ç–∞–∫ —Å—Ç—Ä–∞–Ω–Ω–æ, –Ω–∞—Ç–∫–Ω—É–ª—Å—è –Ω–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ü–∏—é: ¬´–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–æ—Ç—É –¥–ª–∏–Ω–æ–π 2,743 —Å–µ–∫—É–Ω–¥—ã, –Ω–µ –≤–ª–µ–∑–∞—é—â—é—é –≤ —Ä–∞–∑–º–µ—Ä, —Ç–æ –≤ MIDI –≤—Å–µ –ø–æ–ª—É—á–∏—Ç—Å—è!¬ª.
–° —Ç–∞–∫–∏–º –∏ –Ω–µ –ø–æ—Å–ø–æ—Ä–∏—à—å –≤–µ–¥—å.

## –ê —Ç–µ–ø–µ—Ä—å —Å–ª–∞–π–¥—ã
<a id="doom-cool"></a>

–ö–æ–Ω–≤–µ—Ä—Ç–∏–º MIDI –≤ –ø—Ä–æ—à–∏–≤–∫—É, –±–∏–ª–¥–∏–º –∏ –∑–∞–ª–∏–≤–∞–µ–º –Ω–∞ –¥–µ–≤–∞–π—Å. –ö–æ—Ä–ø—É—Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, –¥–ª—è –¥—É—à–∏.

<iframe width="100%"
        height="415"
        src="https://www.youtube-nocookie.com/embed/GXm8zZLNcrw"
        title="DOOM –∫—Ä—É—Ç–æ (–≤–∏–¥–µ–æ)"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
></iframe>
